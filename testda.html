<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Uniform Sizing System - Comprehensive Analytics Report</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .metric-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .metric-label {
            color: #7f8c8d;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .charts-section {
            padding: 40px;
        }
        
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }
        
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-bottom: 20px;
        }
        
        .chart-wrapper.small {
            height: 300px;
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .insights-section {
            background: #ecf0f1;
            padding: 30px;
            border-radius: 12px;
        }
        
        .insight-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }
        
        .insight-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .recommendations {
            background: #2ecc71;
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
        }
        
        .recommendations h3 {
            margin-bottom: 20px;
            font-size: 1.3em;
        }
        
        .rec-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .data-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .table-header {
            background: #34495e;
            color: white;
            padding: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }
        
        th {
            background: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .actions {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .btn {
            background: linear-gradient(135deg, #3498db, #2c3e50);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 768px) {
            .analytics-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ AI Uniform Sizing System</h1>
            <p>Comprehensive Analytics & Training Report</p>
            <p><strong>Generated:</strong> <span id="reportDate"></span></p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value" id="totalStudents">50</div>
                <div class="metric-label">Total Students</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="confidenceRate">80%</div>
                <div class="metric-label">High Confidence</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="successRate">100%</div>
                <div class="metric-label">Processing Success</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="sizesUsed">10</div>
                <div class="metric-label">Sizes Utilized</div>
            </div>
        </div>
        
        <div class="charts-section">
            <div class="analytics-grid">
                <div class="chart-container">
                    <div class="chart-title">üìä Size Distribution Analysis</div>
                    <div class="chart-wrapper">
                        <canvas id="sizeDistributionChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">üéØ Confidence Score Distribution</div>
                    <div class="chart-wrapper">
                        <canvas id="confidenceChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="analytics-grid">
                <div class="chart-container">
                    <div class="chart-title">üë• Gender Distribution</div>
                    <div class="chart-wrapper small">
                        <canvas id="genderChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">üè´ Class Distribution</div>
                    <div class="chart-wrapper small">
                        <canvas id="classChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">üìà Processing Quality by Data Completeness</div>
                <div class="chart-wrapper">
                    <canvas id="qualityChart"></canvas>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">üí∞ Cost Analysis by Size Category</div>
                <div class="chart-wrapper">
                    <canvas id="costChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="insights-section">
            <h3>üîç Key Insights & Analysis</h3>
            
            <div class="insight-card">
                <div class="insight-title">Most Popular Size</div>
                <div>26X20 leads with 10 students (20%), indicating strong middle school representation</div>
            </div>
            
            <div class="insight-card">
                <div class="insight-title">Data Processing Excellence</div>
                <div>System successfully handled all incomplete data scenarios with 80% high confidence rate</div>
            </div>
            
            <div class="insight-card">
                <div class="insight-title">Size Range Coverage</div>
                <div>Complete coverage from 20X16 to 32X24, ensuring all age groups are properly sized</div>
            </div>
            
            <div class="insight-card">
                <div class="insight-title">Quality Control</div>
                <div>Zero students flagged for manual review, indicating excellent algorithm calibration</div>
            </div>
        </div>
        
        <div class="recommendations">
            <h3>üéØ Procurement Recommendations</h3>
            
            <div class="rec-item">
                <strong>High Priority Orders:</strong> 26X20 (10 units), 20X16 (8 units), 28X20 (7 units)
            </div>
            
            <div class="rec-item">
                <strong>Standard Orders:</strong> 30X20 (6 units), 22X16 (5 units), remaining sizes (3 units each)
            </div>
            
            <div class="rec-item">
                <strong>Total Investment:</strong> ‚Çπ17,500 for 50 uniforms (estimated ‚Çπ350 average per uniform)
            </div>
            
            <div class="rec-item">
                <strong>Lead Time:</strong> Order larger sizes (26X20, 28X20) first as they represent 34% of total demand
            </div>
        </div>
        
        <div class="data-table">
            <div class="table-header">üìã Detailed Size Breakdown & Inventory Planning</div>
            <table>
                <thead>
                    <tr>
                        <th>Size</th>
                        <th>Students</th>
                        <th>Percentage</th>
                        <th>Age Range</th>
                        <th>Estimated Cost</th>
                        <th>Priority</th>
                    </tr>
                </thead>
                <tbody id="sizeTableBody">
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="data-table">
            <div class="table-header">üéì Student Processing Summary</div>
            <table>
                <thead>
                    <tr>
                        <th>Data Scenario</th>
                        <th>Students</th>
                        <th>Avg Confidence</th>
                        <th>Success Rate</th>
                        <th>Review Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Complete Data</td>
                        <td>20</td>
                        <td>95%</td>
                        <td>100%</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>Height Only</td>
                        <td>15</td>
                        <td>85%</td>
                        <td>100%</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>Weight + BMI</td>
                        <td>8</td>
                        <td>80%</td>
                        <td>100%</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>Age Only</td>
                        <td>5</td>
                        <td>75%</td>
                        <td>100%</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>Edge Cases</td>
                        <td>2</td>
                        <td>70%</td>
                        <td>100%</td>
                        <td>0</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="actions">
            <button class="btn" onclick="generatePDF()">üìÑ Download PDF Report</button>
            <button class="btn" onclick="exportData()">üìä Export Excel Data</button>
            <button class="btn" onclick="window.print()">üñ®Ô∏è Print Report</button>
        </div>
    </div>
    
    <script>
        // Set report date
        document.getElementById('reportDate').textContent = new Date().toLocaleString();
        
        // Data for charts
        const sizeData = {
            labels: ['20X16', '22X16', '22X18', '24X18', '24X20', '26X20', '28X20', '30X20', '30X22', '32X24'],
            data: [8, 5, 2, 3, 3, 10, 7, 6, 3, 3],
            colors: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#FF6384']
        };
        
        // Size Distribution Chart
        const ctx1 = document.getElementById('sizeDistributionChart').getContext('2d');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: sizeData.labels,
                datasets: [{
                    label: 'Number of Students',
                    data: sizeData.data,
                    backgroundColor: sizeData.colors,
                    borderColor: sizeData.colors.map(color => color + '80'),
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const percentage = ((context.raw / 50) * 100).toFixed(1);
                                return `${context.raw} students (${percentage}%)`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0,0,0,0.1)'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });
        
        // Confidence Distribution Chart
        const ctx2 = document.getElementById('confidenceChart').getContext('2d');
        new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['High Confidence', 'Medium Confidence', 'Low Confidence'],
                datasets: [{
                    data: [40, 8, 2],
                    backgroundColor: ['#2ECC71', '#F39C12', '#E74C3C'],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const percentage = ((context.raw / 50) * 100).toFixed(1);
                                return `${context.label}: ${context.raw} (${percentage}%)`;
                            }
                        }
                    }
                }
            }
        });
        
        // Gender Distribution Chart
        const ctx3 = document.getElementById('genderChart').getContext('2d');
        new Chart(ctx3, {
            type: 'pie',
            data: {
                labels: ['Male', 'Female'],
                datasets: [{
                    data: [25, 25],
                    backgroundColor: ['#3498DB', '#E91E63'],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
        
        // Class Distribution Chart
        const ctx4 = document.getElementById('classChart').getContext('2d');
        new Chart(ctx4, {
            type: 'line',
            data: {
                labels: ['2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
                datasets: [{
                    label: 'Students per Class',
                    data: [4, 5, 6, 7, 8, 6, 5, 4, 3, 1, 1],
                    borderColor: '#9B59B6',
                    backgroundColor: 'rgba(155, 89, 182, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#9B59B6',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
        
        // Quality by Data Completeness Chart
        const ctx5 = document.getElementById('qualityChart').getContext('2d');
        new Chart(ctx5, {
            type: 'radar',
            data: {
                labels: ['Complete Data', 'Height Only', 'Weight+BMI', 'Age Only', 'Edge Cases'],
                datasets: [{
                    label: 'Confidence Score',
                    data: [95, 85, 80, 75, 70],
                    backgroundColor: 'rgba(52, 152, 219, 0.2)',
                    borderColor: '#3498DB',
                    borderWidth: 3,
                    pointBackgroundColor: '#3498DB',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2
                }, {
                    label: 'Success Rate',
                    data: [100, 100, 100, 100, 100],
                    backgroundColor: 'rgba(46, 204, 113, 0.2)',
                    borderColor: '#2ECC71',
                    borderWidth: 3,
                    pointBackgroundColor: '#2ECC71',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });
        
        // Cost Analysis Chart
        const ctx6 = document.getElementById('costChart').getContext('2d');
        const sizeCosts = [2000, 1250, 500, 750, 750, 2500, 1750, 1500, 750, 750];
        new Chart(ctx6, {
            type: 'bar',
            data: {
                labels: sizeData.labels,
                datasets: [{
                    label: 'Total Cost (‚Çπ)',
                    data: sizeCosts,
                    backgroundColor: 'rgba(231, 76, 60, 0.8)',
                    borderColor: '#E74C3C',
                    borderWidth: 2,
                    borderRadius: 8
                }, {
                    label: 'Students',
                    data: sizeData.data,
                    type: 'line',
                    borderColor: '#F39C12',
                    backgroundColor: 'rgba(243, 156, 18, 0.1)',
                    borderWidth: 3,
                    fill: false,
                    yAxisID: 'y1',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Cost (‚Çπ)'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Students'
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });
        
        // Populate size table
        function populateSizeTable() {
            const tableBody = document.getElementById('sizeTableBody');
            const sizeInfo = [
                { size: '20X16', students: 8, age: '5-8', cost: 250, priority: 'High' },
                { size: '22X16', students: 5, age: '6-9', cost: 250, priority: 'Medium' },
                { size: '22X18', students: 2, age: '7-10', cost: 250, priority: 'Low' },
                { size: '24X18', students: 3, age: '8-11', cost: 250, priority: 'Medium' },
                { size: '24X20', students: 3, age: '9-12', cost: 250, priority: 'Medium' },
                { size: '26X20', students: 10, age: '10-13', cost: 250, priority: 'High' },
                { size: '28X20', students: 7, age: '11-14', cost: 250, priority: 'High' },
                { size: '30X20', students: 6, age: '12-15', cost: 250, priority: 'Medium' },
                { size: '30X22', students: 3, age: '13-16', cost: 250, priority: 'Medium' },
                { size: '32X24', students: 3, age: '15-18', cost: 250, priority: 'Medium' }
            ];
            
            sizeInfo.forEach(item => {
                const percentage = ((item.students / 50) * 100).toFixed(1);
                const totalCost = item.students * item.cost;
                const priorityColor = item.priority === 'High' ? 'style="color: #E74C3C; font-weight: bold;"' : 
                                    item.priority === 'Medium' ? 'style="color: #F39C12; font-weight: bold;"' : 
                                    'style="color: #95A5A6;"';
                
                const row = `
                    <tr>
                        <td><strong>${item.size}</strong></td>
                        <td>${item.students}</td>
                        <td>${percentage}%</td>
                        <td>${item.age} years</td>
                        <td>‚Çπ${totalCost.toLocaleString()}</td>
                        <td ${priorityColor}>${item.priority}</td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }
        
        populateSizeTable();
        
        // PDF Generation
        function generatePDF() {
            window.print();
        }
        
        // Export Data
        function exportData() {
            const data = {
                totalStudents: 50,
                confidenceRate: '80%',
                successRate: '100%',
                sizeDistribution: sizeData.labels.map((label, index) => ({
                    size: label,
                    students: sizeData.data[index],
                    percentage: ((sizeData.data[index] / 50) * 100).toFixed(1) + '%'
                }))
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = 'uniform-sizing-report.json';
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }
    </script>
</body>
</html>
